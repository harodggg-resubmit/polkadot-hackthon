(this["webpackJsonppolkadot-front-end"]=this["webpackJsonppolkadot-front-end"]||[]).push([[0],{1192:function(e){e.exports=JSON.parse('{"PROVIDER_SOCKET":"wss://rpc.polkadot.io"}')},1198:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(142),l=n.n(c),o=n(82),u=n(1215),i=n(1211),s=n(1220),E=n(1216),p=n(1210),d=(n(566),n(18)),f=n.n(d),m=n(33),O=n(36),b=n(353),v=n.n(b),R=n(539),h=n.n(R),C=n(354),S=n(218),y=n(289),N=n.n(y),k=n(543),j=n(1192),g=["REACT_APP_PROVIDER_SOCKET","REACT_APP_DEVELOPMENT_KEYRING"].reduce((function(e,t){return void 0!==Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})[t]&&(e[t.slice(10)]=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})[t]),e}),{}),_=Object(O.a)(Object(O.a)(Object(O.a)({},k),j),g),w=h.a.parse(window.location.search).rpc||_.PROVIDER_SOCKET;console.log("Connected socket: ".concat(w));var T={socket:w,jsonrpc:Object(O.a)(Object(O.a)({},v.a),_.RPC),types:_.CUSTOM_TYPES,keyring:null,keyringState:null,api:null,apiError:null,apiState:null},x=function(e,t){switch(t.type){case"CONNECT_INIT":return Object(O.a)(Object(O.a)({},e),{},{apiState:"CONNECT_INIT"});case"CONNECT":return Object(O.a)(Object(O.a)({},e),{},{api:t.payload,apiState:"CONNECTING"});case"CONNECT_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{apiState:"READY"});case"CONNECT_ERROR":return Object(O.a)(Object(O.a)({},e),{},{apiState:"ERROR",apiError:t.payload});case"LOAD_KEYRING":return Object(O.a)(Object(O.a)({},e),{},{keyringState:"LOADING"});case"SET_KEYRING":return Object(O.a)(Object(O.a)({},e),{},{keyring:t.payload,keyringState:"READY"});case"KEYRING_ERROR":return Object(O.a)(Object(O.a)({},e),{},{keyring:null,keyringState:"ERROR"});default:throw new Error("Unknown type: ".concat(t.type))}},P=!1,I=r.a.createContext(),A=function(e){var t=Object(O.a)({},T);["socket","types"].forEach((function(n){t[n]="undefined"===typeof e[n]?t[n]:e[n]}));var n=Object(a.useReducer)(x,t),c=Object(o.a)(n,2),l=c[0],u=c[1];return function(e,t){var n=e.apiState,a=e.socket,r=e.jsonrpc,c=e.types;if(!n){t({type:"CONNECT_INIT"});var l=new C.WsProvider(a),o=new C.ApiPromise({provider:l,types:c,rpc:r});o.on("connected",(function(){t({type:"CONNECT",payload:o}),o.isReady.then((function(e){return t({type:"CONNECT_SUCCESS"})}))})),o.on("ready",(function(){return t({type:"CONNECT_SUCCESS"})})),o.on("error",(function(e){return t({type:"CONNECT_ERROR",payload:e})}))}}(l,u),function(e,t){var n=function(){var e=Object(m.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOAD_KEYRING"}),e.prev=1,e.next=4,Object(S.web3Enable)(_.APP_NAME);case 4:return e.next=6,Object(S.web3Accounts)();case 6:n=(n=e.sent).map((function(e){var t=e.address,n=e.meta;return{address:t,meta:Object(O.a)(Object(O.a)({},n),{},{name:"".concat(n.name," (").concat(n.source,")")})}})),N.a.loadAll({isDevelopment:_.DEVELOPMENT_KEYRING},n),t({type:"SET_KEYRING",payload:N.a}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0),t({type:"KEYRING_ERROR"});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();if(!e.keyringState){if(P)return t({type:"SET_KEYRING",payload:N.a});P=!0,n()}}(l,u),r.a.createElement(I.Provider,{value:l},e.children)},D=function(){return Object(O.a)({},Object(a.useContext)(I))},H=(n(100),n(1217));function K(e){var t=D(),a=t.api,r=t.apiState,c=t.keyring,l=t.keyringState;return"READY"===r&&(window.api=a),"READY"===l&&(window.keyring=c),window.util=n(4),window.utilCrypto=n(42),null}var Y=n(1214),B=n(1219),G=n(193);function L(e){var t=D().api,n=e.finalized,c=Object(a.useState)(0),l=Object(o.a)(c,2),u=l[0],i=l[1],E=Object(a.useState)(0),p=Object(o.a)(E,2),d=p[0],f=p[1],m=n?t.derive.chain.bestNumberFinalized:t.derive.chain.bestNumber;Object(a.useEffect)((function(){var e=null;return m((function(e){i(e.toNumber()),f(0)})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[m]);var O=function(){f((function(e){return e+1}))};return Object(a.useEffect)((function(){var e=setInterval(O,1e3);return function(){return clearInterval(e)}}),[]),r.a.createElement(s.a.Column,null,r.a.createElement(Y.a,null,r.a.createElement(Y.a.Content,{textAlign:"center"},r.a.createElement(B.a,{label:(n?"Finalized":"Current")+" Block",value:u})),r.a.createElement(Y.a.Content,{extra:!0},r.a.createElement(G.a,{name:"time"})," ",d)))}function U(e){var t=D().api;return t.derive&&t.derive.chain&&t.derive.chain.bestNumber&&t.derive.chain.bestNumberFinalized?r.a.createElement(L,e):null}var V=n(1212),W=n(1213);var z=function(e){var t=D().api,n=Object(a.useState)(null),c=Object(o.a)(n,2),l=c[0],u=c[1],i=r.a.createRef();function s(e){return e.startsWith("0x")}function E(){return(E=Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(i.current.value),!s(t=i.current.value)){e.next=8;break}return e.next=5,b(t);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,d(t);case 10:n=e.sent;case 11:n={number:(n=Object.fromEntries(n)).block.header.number.toString(),hash:n.block.header.hash.toString(),stateRoot:n.block.header.stateRoot.toString(),parentHash:n.block.header.parentHash.toString(),extrinsicsRoot:n.block.header.extrinsicsRoot.toString(),digest:n.block.header.digest.toString(),transtions:n.block.extrinsics.toString()},u(n),console.log(l);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return O.apply(this,arguments)}function O(){return(O=Object(m.a)(f.a.mark((function e(t){var n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return n=e.sent,e.next=5,n.rpc.chain.getBlockHash(t);case 5:return a=e.sent,e.next=8,n.rpc.chain.getBlock(a);case 8:return r=e.sent,console.log("Result for search by number for ".concat(t," is ").concat(r)),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return(v=Object(m.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return n=e.sent,e.next=5,n.rpc.chain.getBlock(t);case 5:return a=e.sent,console.log("Result for search by hash for ".concat(t," is ").concat(a)),console.log(typeof a),console.log(a.block.header),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return h.apply(this,arguments)}function h(){return(h=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C={width:"auto"};return r.a.createElement(p.a,null,r.a.createElement(Y.a,{style:C},r.a.createElement(Y.a.Content,{textAlign:"center"},r.a.createElement(Y.a.Header,null,"Search for block by Height or Hash"),r.a.createElement(V.a,{style:{marginTop:"15px"}},r.a.createElement(V.a.Field,null,r.a.createElement("input",{icon:"search",placeholder:"Block Height or Hash...",ref:i})),r.a.createElement(H.a,{primary:!0,onClick:function(){return function(){return E.apply(this,arguments)}()}},"Seach")))),l?r.a.createElement("view",null,r.a.createElement(Y.a,null,r.a.createElement(Y.a.Header,null," digest"),r.a.createElement("text",null,null===l||void 0===l?void 0:l.digest)),r.a.createElement(Y.a,null,r.a.createElement(Y.a.Header,null,"Transtions"),r.a.createElement("text",null,null===l||void 0===l?void 0:l.transtions))):r.a.createElement("span",null),l?r.a.createElement(Y.a,{style:C},r.a.createElement(Y.a.Content,{textAlign:"center"},r.a.createElement(Y.a.Header,null,"Searched Block Data"),r.a.createElement(W.a,{celled:!0,padded:!0},r.a.createElement(W.a.Header,null,r.a.createElement(W.a.Row,null,r.a.createElement(W.a.HeaderCell,{singleLine:!0},"Key"),r.a.createElement(W.a.HeaderCell,null,"Value"))),r.a.createElement(W.a.Body,null,r.a.createElement(W.a.Row,null,r.a.createElement(W.a.Cell,null,"Block Number"),r.a.createElement(W.a.Cell,null,null===l||void 0===l?void 0:l.number)),r.a.createElement(W.a.Row,null,r.a.createElement(W.a.Cell,null,"Block Hash"),r.a.createElement(W.a.Cell,null,null===l||void 0===l?void 0:l.hash)),r.a.createElement(W.a.Row,null,r.a.createElement(W.a.Cell,null,"Parent Hash"),r.a.createElement(W.a.Cell,null,null===l||void 0===l?void 0:l.parentHash)),r.a.createElement(W.a.Row,null,r.a.createElement(W.a.Cell,null,"State Root"),r.a.createElement(W.a.Cell,null,null===l||void 0===l?void 0:l.stateRoot)),r.a.createElement(W.a.Row,null,r.a.createElement(W.a.Cell,null,"Extrinsics Root"),r.a.createElement(W.a.Cell,null,null===l||void 0===l?void 0:l.extrinsicsRoot)))))):r.a.createElement("span",null))};function M(){var e,t=Object(a.useState)(null),n=Object(o.a)(t,2),c=(n[0],n[1],D()),l=c.apiState,d=(c.keyring,c.keyringState),f=c.apiError,m=function(e){return r.a.createElement(u.a,{active:!0},r.a.createElement(i.a,{size:"small"},e))};if("ERROR"===l)return e=f,r.a.createElement(s.a,{centered:!0,columns:2,padded:!0},r.a.createElement(s.a.Column,null,r.a.createElement(E.a,{negative:!0,compact:!0,floating:!0,header:"Error Connecting to Substrate",content:"".concat(JSON.stringify(e,null,4))})));if("READY"!==l)return m("Connecting to Substrate");if("READY"!==d)return m("Loading accounts (please review any extension's authorization)");var O=Object(a.createRef)();return r.a.createElement("div",{ref:O},r.a.createElement(p.a,null,r.a.createElement(s.a,{stackable:!0,columns:"equal"},r.a.createElement(s.a.Row,{stretched:!0},r.a.createElement(U,null),r.a.createElement(U,{finalized:!0}))),r.a.createElement(z,null)),r.a.createElement(K,null))}function J(){return r.a.createElement(A,null,r.a.createElement(M,null))}l.a.render(r.a.createElement(J,null),document.getElementById("root"))},543:function(e){e.exports=JSON.parse('{"APP_NAME":"polkadot-front-end","DEVELOPMENT_KEYRING":true,"RPC":{}}')},561:function(e,t,n){e.exports=n(1198)},634:function(e,t){},686:function(e,t){},688:function(e,t){},698:function(e,t){},700:function(e,t){},726:function(e,t){},728:function(e,t){},729:function(e,t){},734:function(e,t){},736:function(e,t){},743:function(e,t){},745:function(e,t){},764:function(e,t){},776:function(e,t){},779:function(e,t){},799:function(e,t){}},[[561,1,2]]]);
//# sourceMappingURL=main.c256243f.chunk.js.map